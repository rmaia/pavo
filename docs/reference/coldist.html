<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Color distances — coldist • pavo</title>

<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.1/clipboard.min.js" integrity="sha256-hIvIxeqhGZF+VVeM55k0mJvWpQ6gTkWk3Emc+NmowYA=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Color distances — coldist" />

<meta property="og:description" content="Calculates color distances. When data are the result of vismodel,
it applies the receptor-noise model of Vorobyev et al. (1998) to calculate color distances
with noise based on relative photoreceptor densities. It also accepts colspace data
from the hexagon, colour-opponent-coding, categorical, segment, and cielab models, in which case euclidean
distances (hexagon, cielab, categorical, segment) or manhattan distances (coc) are returned." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pavo</a>
        <span class="label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">2.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/pavo.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/spectraldesc.html">Spectral shape descriptors</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rmaia/pavo">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Color distances</h1>
    <small class="dont-index">Source: <a href='https://github.com/rmaia/pavo/blob/master/R/coldist.R'><code>R/coldist.R</code></a></small>
    <div class="hidden name"><code>coldist.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Calculates color distances. When data are the result of <code><a href='vismodel.html'>vismodel</a></code>,
it applies the receptor-noise model of Vorobyev et al. (1998) to calculate color distances
with noise based on relative photoreceptor densities. It also accepts <code><a href='colspace.html'>colspace</a></code> data
from the hexagon, colour-opponent-coding, categorical, segment, and cielab models, in which case euclidean
distances (hexagon, cielab, categorical, segment) or manhattan distances (coc) are returned.</p>
    
    </div>

    <pre class="usage"><span class='fu'>coldist</span>(<span class='no'>modeldata</span>, <span class='kw'>noise</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"neural"</span>, <span class='st'>"quantum"</span>), <span class='kw'>subset</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>achro</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>qcatch</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>2</span>, <span class='fl'>4</span>), <span class='kw'>weber</span> <span class='kw'>=</span> <span class='fl'>0.1</span>,
  <span class='kw'>weber.ref</span> <span class='kw'>=</span> <span class='st'>"longest"</span>, <span class='kw'>weber.achro</span> <span class='kw'>=</span> <span class='fl'>0.1</span>, <span class='no'>v</span>, <span class='no'>n1</span>, <span class='no'>n2</span>, <span class='no'>n3</span>, <span class='no'>n4</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>modeldata</th>
      <td><p>(required) quantum catch color data. Can be the result
from <code><a href='vismodel.html'>vismodel</a></code>, or <code><a href='colspace.html'>colspace</a></code>. Data may also be independently calculated quantum catches,
in the form of a data frame with columns representing photoreceptors.</p></td>
    </tr>
    <tr>
      <th>noise</th>
      <td><p>how the noise will be calculated. (Ignored for <code>colspace</code> objects
 if model is not a receptor noise model (i.e. hexagon, colour-opponent-coding,
categorical, segment, and cie models)):</p><ul>
<li><p><code>neural</code>: noise is proportional to the Weber fraction and
 is independent of the intensity of the signal received (i.e. assumes bright conditions).</p></li>
<li><p><code>quantum</code>: noise is the sum of the neural noise and receptor noise,
 and is thus proportional to the Weber fraction and inversely proportional
 to the intensity of the signal received (the quantum catches).
 Note that the <code>quantum</code> option will only work with
    objects of class <code>vismodel</code>.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>If only some of the comparisons should be returned, a character vector of
length 1 or 2 can be provided, indicating which samples are desired. The subset vector
must match the labels of the input samples, but partial matching (and regular expressions)
are supported.</p></td>
    </tr>
    <tr>
      <th>achro</th>
      <td><p>Logical. If <code>TRUE</code>, last column of the data frame is used to calculate
the achromatic contrast, with noise based on the Weber fraction given by the argument
<code>weber.achro</code>.
If the data are from the hexagon model (i.e. <code><a href='colspace.html'>colspace(space = 'hexagon')</a></code>), it
instead returns simple long (or 'green') receptor contrast.</p></td>
    </tr>
    <tr>
      <th>qcatch</th>
      <td><p>if the object is of class <code>vismodel</code> or <code>colspace</code>,
 this argument is ignored. If the object is a data frame of quantal catches
 from another source, this argument is used to specify what type of quantum catch is being
 used, so that the noise can be calculated accordingly:</p><ul>
<li><p><code>Qi</code>: Quantum catch for each photoreceptor</p></li>
<li><p><code>fi</code>: Quantum catch according to Fechner law (the signal of the receptor
   channel is proportional to the logarithm of the quantum catch)</p></li>
</ul></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>photoreceptor densities for the cones used in visual modeling.
must have same length as number of columns (excluding achromatic receptor if used;
defaults to
the Pekin robin <em>Leiothrix lutea</em> densities: <code>c(1,2,2,4)</code>).
Ignored for <code>colspace</code> objects
if model is not a receptor noise model (i.e. hexagon, colour-opponent-coding,
categorical, and cie models).</p></td>
    </tr>
    <tr>
      <th>weber</th>
      <td><p>The Weber fraction to be used (often also referred to as receptor noise,
or <em>e</em>). The noise-to-signal ratio <code>v</code> is unknown,
and therefore must be calculated based on the empirically estimated Weber
fraction of one of the cone classes. <code>v</code> is then applied to estimate the
Weber fraction of the other cones. by default, the value of 0.1 is used
(the empirically estimated value for the
LWS cone from <em>Leiothrix lutea</em>). See Olsson et al. 2017 for a review of
published values in the literature. Ignored for <code>colspace</code> objects
if model is not a receptor noise model (i.e. hexagon, colour-opponent-coding,
categorical, segment, and cie models).</p></td>
    </tr>
    <tr>
      <th>weber.ref</th>
      <td><p>the cone class used to obtain the empirical estimate of the
 Weber fraction used for the <code>weber</code> argument. By default, <code>n4</code> is used,
 representing the LWS cone for <em>Leiothrix lutea</em>. Ignored for <code>colspace</code> objects
 if model is not a receptor noise model (i.e. hexagon, colour-opponent-coding,
categorical, segment, and cie models).</p></td>
    </tr>
    <tr>
      <th>weber.achro</th>
      <td><p>the Weber fraction to be used to calculate achromatic contrast, when
 <code>achro = TRUE</code>. Defaults to 0.1. Ignored for <code>colspace</code> objects
 if model is not a receptor noise model (i.e. hexagon, colour-opponent-coding,
categorical, segment, and cie models).</p></td>
    </tr>
    <tr>
      <th>n1, n2, n3, n4, v</th>
      <td><p>deprecated arguments. see below.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame containing up to 4 columns.
The first two (<code>patch1, patch2</code>) refer
to the two colors being contrasted; <code>dS</code> is the chromatic contrast (delta S)
and <code>dL</code> is the achromatic contrast (delta L). Units are JND's in the receptor-noise
model, euclidean distances in the categorical and segment space, manhattan distances in the
color-opponent-coding space, green-receptor contrast in the hexagon, and lightness (L)
contrast in the cielab model.</p>
    
    <h2 class="hasAnchor" id="note-on-previous-versions"><a class="anchor" href="#note-on-previous-versions"></a>Note on previous versions</h2>

    
    <p>previous versions of <code>coldist</code> calculated receptor noise using the arguments
<code>v</code> for the individual cone noise-to-signal ratio and <code>n1,n2,n3,n4</code> for
the relative cone densities. These arguments have been replaced by <code>weber</code> and
<code>n</code>, which takes a vector of relative cone densities. <code>weber.ref</code> allows
the user to specify which receptor to use as the reference to obtain the
desired Weber fraction, and <code>coldist</code> calculates internally the value of <code>v</code>
to be used when calculating the Weber fraction for the remaining cones.</p>
<p>This allows a more explicit choice of Weber fraction, without the need to find the
right value of <code>v</code> to use in order to obtain the desired signal-to-noise ratio. Furthermore,
by allowing <code>n</code> to be entered as a vector, <code>coldist</code> can now handle visual
systems with more than four photoreceptors.</p>
<p>In addition, the achromatic noise is calculated based on the <code>weber.achro</code>
argument directly, and not based on <code>v</code> and <code>n4</code> as before.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Vorobyev, M., Osorio, D., Bennett, A., Marshall, N., &amp; Cuthill, I.
 (1998). Tetrachromacy, oil droplets and bird plumage colours. Journal Of Comparative
 Physiology A-Neuroethology Sensory Neural And Behavioral Physiology, 183(5), 621-633.</p>
<p>Hart, N. S. (2001). The visual ecology of avian photoreceptors. Progress
 In Retinal And Eye Research, 20(5), 675-703.</p>
<p>Endler, J. A., &amp; Mielke, P. (2005). Comparing entire colour patterns
 as birds see them. Biological Journal Of The Linnean Society, 86(4), 405-431.</p>
<p>Olsson, P., Lind, O., &amp; Kelber, A. (2015) Bird colour vision:
 behavioural thresholds reveal receptor noise. Journal of Experimental Biology,
 218, 184-193.</p>
<p>Lind, O. (2016) Colour vision and background adaptation in a passerine
 bird, the zebra finch (Taeniopygia guttata). Royal Society Open Science, 3, 160383.</p>
<p>Olsson, P., Lind, O., &amp; Kelber, A. (2017) Chromatic and achromatic
 vision: parameter choice and limitations for reliable model predictions.
 Behavioral Ecology, doi: <a href='http://doi.org/10.1093/beheco/arx133'>10.1093/beheco/arx133</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># Dichromat</span>
<span class='fu'>data</span>(<span class='no'>flowers</span>)
<span class='no'>vis.flowers</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='vismodel.html'>vismodel</a></span>(<span class='no'>flowers</span>, <span class='kw'>visual</span> <span class='kw'>=</span> <span class='st'>'canis'</span>, <span class='kw'>relative</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='no'>didist.flowers</span> <span class='kw'>&lt;-</span> <span class='fu'>coldist</span>(<span class='no'>vis.flowers</span>)

<span class='co'># Trichromat</span>
<span class='no'>vis.flowers</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='vismodel.html'>vismodel</a></span>(<span class='no'>flowers</span>, <span class='kw'>visual</span> <span class='kw'>=</span> <span class='st'>'apis'</span>, <span class='kw'>relative</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='no'>tridist.flowers</span> <span class='kw'>&lt;-</span> <span class='fu'>coldist</span>(<span class='no'>vis.flowers</span>)

<span class='co'># Trichromat, color-hexagon model (euclidean distances)</span>
<span class='no'>vis.flowers</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='vismodel.html'>vismodel</a></span>(<span class='no'>flowers</span>, <span class='kw'>visual</span> <span class='kw'>=</span> <span class='st'>'apis'</span>, <span class='kw'>qcatch</span> <span class='kw'>=</span> <span class='st'>'Ei'</span>,
                        <span class='kw'>relative</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>vonkries</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>achro</span> <span class='kw'>=</span> <span class='st'>'l'</span>, <span class='kw'>bkg</span> <span class='kw'>=</span> <span class='st'>'green'</span>)
<span class='no'>hex.flowers</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='colspace.html'>colspace</a></span>(<span class='no'>vis.flowers</span>, <span class='kw'>space</span> <span class='kw'>=</span> <span class='st'>'hexagon'</span>)
<span class='no'>hexdist.flowers</span> <span class='kw'>&lt;-</span> <span class='fu'>coldist</span>(<span class='no'>hex.flowers</span>)

<span class='co'># Trichromat, color-opponent-coding model (manhattan distances)</span>
<span class='no'>vis.flowers</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='vismodel.html'>vismodel</a></span>(<span class='no'>flowers</span>, <span class='kw'>visual</span> <span class='kw'>=</span> <span class='st'>'apis'</span>, <span class='kw'>qcatch</span> <span class='kw'>=</span> <span class='st'>'Ei'</span>, <span class='kw'>relative</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>vonkries</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>coc.flowers</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='colspace.html'>colspace</a></span>(<span class='no'>vis.flowers</span>, <span class='kw'>space</span> <span class='kw'>=</span> <span class='st'>'coc'</span>)
<span class='no'>hexdist.flowers</span> <span class='kw'>&lt;-</span> <span class='fu'>coldist</span>(<span class='no'>coc.flowers</span>)

<span class='co'># Tetrachromat</span>
<span class='fu'>data</span>(<span class='no'>sicalis</span>)
<span class='no'>vis.sicalis</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='vismodel.html'>vismodel</a></span>(<span class='no'>sicalis</span>, <span class='kw'>visual</span> <span class='kw'>=</span> <span class='st'>'avg.uv'</span>, <span class='kw'>relative</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='no'>tetradist.sicalis.n</span> <span class='kw'>&lt;-</span> <span class='fu'>coldist</span>(<span class='no'>vis.sicalis</span>)

<span class='co'># This will also work, but give you several warnings you shouldn't ignore!!</span>
<span class='no'>col.sicalis</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='colspace.html'>colspace</a></span>(<span class='no'>vis.sicalis</span>)
<span class='no'>tetradist.sicalis.n</span> <span class='kw'>&lt;-</span> <span class='fu'>coldist</span>(<span class='no'>col.sicalis</span>)

<span class='no'>tetradist.sicalis.q</span> <span class='kw'>&lt;-</span> <span class='fu'>coldist</span>(<span class='no'>vis.sicalis</span>, <span class='kw'>noise</span> <span class='kw'>=</span> <span class='st'>'quantum'</span>)
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#note-on-previous-versions">Note on previous versions</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Rafael Maia <a href='mailto:rm72@zips.uakron.edu'>rm72@zips.uakron.edu</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Rafael Maia, Thomas White, Hugo Gruson, Chad Eliason, Pierre-Paul Bitton.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  docsearch({
    
    
    apiKey: '1988255e7e235678bc3c7f1b86b9ecc5',
    indexName: 'rafaelmaia_pavo',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

