<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Process images — procimg • pavo</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Process images — procimg"><meta name="description" content="Specify scales, resize, and/or define focal objects within images."><meta property="og:description" content="Specify scales, resize, and/or define focal objects within images."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pavo</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">2.10.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/pavo.html">Get Started</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://book.colrverse.com"><span class="fa fa-book"></span> Book</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rmaia/pavo/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Process images</h1>
      <small class="dont-index">Source: <a href="https://github.com/rmaia/pavo/blob/master/R/procimg.R" class="external-link"><code>R/procimg.R</code></a></small>
      <div class="d-none name"><code>procimg.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Specify scales, resize, and/or define focal objects within images.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">procimg</span><span class="op">(</span></span>
<span>  <span class="va">image</span>,</span>
<span>  resize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rotate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scaledist <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outline <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  reclass <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  smooth <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  iterations <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  col <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>  obj_dist <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  obj_width <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  eye_res <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plotnew <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-image">image<a class="anchor" aria-label="anchor" href="#arg-image"></a></dt>
<dd><p>(required) image data. Either a single image array, or a number of images
stored in a list. Preferably the result of <code><a href="getimg.html">getimg()</a></code>.</p></dd>


<dt id="arg-resize">resize<a class="anchor" aria-label="anchor" href="#arg-resize"></a></dt>
<dd><p>an integer specifying a percentage for resizing images, if so desired.
E.g. 50 to half the size of an image, 200 to double it.</p></dd>


<dt id="arg-rotate">rotate<a class="anchor" aria-label="anchor" href="#arg-rotate"></a></dt>
<dd><p>an integer specifying the angle of image rotation, in degrees. Images
are rotated around the centre, and linearly interpolated.</p></dd>


<dt id="arg-scaledist">scaledist<a class="anchor" aria-label="anchor" href="#arg-scaledist"></a></dt>
<dd><p>an integer, or numeric vector equal in length to the number of images,
specifying the length of the scale in the image(s). Image(s) will then be presented,
and the user asked to select either end of the scale corresponding to the input value.</p></dd>


<dt id="arg-outline">outline<a class="anchor" aria-label="anchor" href="#arg-outline"></a></dt>
<dd><p>interactively specify the focal object in
an image by clicking around its outline. The xy-coordinates of the resulting
closed polygon are saved as an attribute, for use in generating a masking layer &amp;
separating animals/plants from backgrounds in further analyses. This is particularly
useful when backgrounds are complex, such as in natural settings.</p></dd>


<dt id="arg-reclass">reclass<a class="anchor" aria-label="anchor" href="#arg-reclass"></a></dt>
<dd><p>interactively specify an area on a colour-classified image that is
to be reclassified as the numeric value provided. e.g. when <code>reclass = 1</code>, the user
will be asked to select a polygon on the image, within which all colour-category values will be
changes to <code>1</code>.</p></dd>


<dt id="arg-smooth">smooth<a class="anchor" aria-label="anchor" href="#arg-smooth"></a></dt>
<dd><p>should the polygon specified when <code>outline = TRUE</code> be smoothed
using Chaikin's corner-cuting algorithm? Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-iterations">iterations<a class="anchor" aria-label="anchor" href="#arg-iterations"></a></dt>
<dd><p>the number of smoothing iterations, when <code>smooth = TRUE</code>.
Defaults to <code>1</code>.</p></dd>


<dt id="arg-col">col<a class="anchor" aria-label="anchor" href="#arg-col"></a></dt>
<dd><p>the color of the marker points and/or line, when using interactive options.</p></dd>


<dt id="arg-obj-dist-obj-width-eye-res">obj_dist, obj_width, eye_res<a class="anchor" aria-label="anchor" href="#arg-obj-dist-obj-width-eye-res"></a></dt>
<dd><p>blur the image to model the visual acuity of non-human animals
as per Caves &amp; Johnsen (2018)'s AcuityView 2.0 algorithm. The procedure requires three arguments;
obj_dist is the real-world distance between the viewer and the focal object in the image in the image,
obj_width is the real-world width of the entire image; eye_res is the minimum resolvable angle of the viewer
in degrees. All three arguments are numeric, and any units of measurement are suitable for
obj_dist and obj_width, but they must match. Note that this is the more flexible v2.0 implementation meaning
that any rectangular image is suitable; it need not be square with dimensions a power of 2.
If using this capability, please cite Caves &amp; Johnsen (2018), as per the included reference,
and see note below.</p></dd>


<dt id="arg-plotnew">plotnew<a class="anchor" aria-label="anchor" href="#arg-plotnew"></a></dt>
<dd><p>should plots be opened in a new window? Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional graphical parameters. Also see <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>an image, or list of images, for use in further
<code>pavo</code> functions.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>There are several caveats that should be considered when using the AcuityView
algorithm. First and foremost, the converted image is not what the animal actually sees.
For example, it does not account for edge enhancement and other processing by the retina and
brain that may alter an image. It does, however, show what spatial information
can be detected and then processed by the visual system. Second, the converted
image is static, which does not allow one to assess how movement may reveal the
presence of an otherwise indiscernible object. Third, AcuityView makes several
assumptions about the Modulation Transfer Function (MTF), which describes how
the optical system affects image contrast as a function of the level of detail.
These assumptions include that the MTF is constant over the region of the retina that views the
scene, is circularly symmetrical, and is wavelength independent. For a full discussion and details,
please do read Caves &amp; Johnsen (2018).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Caves, E. M., &amp; Johnsen, S. (2018). AcuityView: An r package
for portraying the effects of visual acuity on scenes observed by an animal.
Methods in Ecology and Evolution, 9(3), 793-797 <a href="https://doi.org/10.1111/2041-210X.12911" class="external-link">doi:10.1111/2041-210X.12911</a>
.</p>
<p>Chaikin, G. 1974. An algorithm for high speed curve generation.
Computer Graphics and Image Processing 3, 346-349.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Thomas E. White <a href="mailto:thomas.white026@gmail.com">thomas.white026@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Interactively add a scale to a single image</span></span></span>
<span class="r-in"><span>  <span class="va">papilio</span> <span class="op">&lt;-</span> <span class="fu"><a href="getimg.html">getimg</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"testdata/images/butterflies/papilio.png"</span>, package <span class="op">=</span> <span class="st">"pavo"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">papilio</span> <span class="op">&lt;-</span> <span class="fu">procimg</span><span class="op">(</span><span class="va">papilio</span>, scaledist <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Interactively assign individual scales to each image,</span></span></span>
<span class="r-in"><span>  <span class="co"># after slightly reducing their size (to 90% of original).</span></span></span>
<span class="r-in"><span>  <span class="va">snakes</span> <span class="op">&lt;-</span> <span class="fu"><a href="getimg.html">getimg</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"testdata/images/snakes"</span>, package <span class="op">=</span> <span class="st">"pavo"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">snakes</span> <span class="op">&lt;-</span> <span class="fu">procimg</span><span class="op">(</span><span class="va">snakes</span>, scaledist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">14</span><span class="op">)</span>, resize <span class="op">=</span> <span class="fl">90</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Model the appearance of a butterfly given the reduced visual acuity of another</span></span></span>
<span class="r-in"><span>  <span class="co"># animal viewer as per the AcuityView algorithm. Here our butterfly is 60 cm away,</span></span></span>
<span class="r-in"><span>  <span class="co"># the image width is 10 cm, and the minimum resolvable angle of the viewer is 0.2-degrees.</span></span></span>
<span class="r-in"><span>  <span class="va">tiger</span> <span class="op">&lt;-</span> <span class="fu"><a href="getimg.html">getimg</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"testdata/images/tiger.png"</span>, package <span class="op">=</span> <span class="st">"pavo"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">tiger_acuity</span> <span class="op">&lt;-</span> <span class="fu">procimg</span><span class="op">(</span><span class="va">tiger</span>, obj_dist <span class="op">=</span> <span class="fl">60</span>, obj_width <span class="op">=</span> <span class="fl">10</span>, eye_res <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Thomas White, Rafael Maia, Hugo Gruson, John Endler, Chad Eliason, Pierre-Paul Bitton.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

    </footer></div>





  </body></html>

